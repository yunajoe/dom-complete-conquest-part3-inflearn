<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì˜ˆì•½ í™•ì¸ & ì˜ìˆ˜ì¦ (ëŠë¦° ë²„ì „)</title>
    <!-- í°íŠ¸: ê¸€ì”¨ê°€ ë¡œë”©ë  ë•Œê¹Œì§€ ë³´ì´ì§€ ì•ŠìŒ(FOIT) -->
    <!--  FIX: display="swap" ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê¸°ë³¸í°íŠ¸ë¥¼ ì‚¬ìš©í›„, í°íŠ¸ê°€ ë¡œë”©ì´ ëœ í›„ ë°”ê¾¼ë‹¤. -->
    <!--  FIX: preconnect ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œ í°íŠ¸ë¥¼ ë¯¸ë¦¬ ë¶ˆëŸ¬ì˜¨ë‹¤. -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=block"
      rel="stylesheet"
      display="swap"
      rel="preconnect"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      :root {
        --bg: #f6f7fb;
        --panel: #fff;
        --ink: #0f172a;
        --muted: #6b7280;
        --border: #e5e7eb;
        --brand: #2563eb;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Inter", system-ui, sans-serif;
        margin: 0;
        background: var(--bg);
        color: var(--ink);
      }
      header {
        padding: 16px 20px;
        background: #fff;
        border-bottom: 1px solid var(--border);
      }
      main {
        max-width: 980px;
        margin: 0 auto;
        padding: 20px;
      }
      .hero {
        display: flex;
        flex-direction: row;
        gap: 16px;
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 16px;
        margin-bottom: 16px;
      }
      /* FIX: width, heightë¥¼ ì§€ì • */
      .hero img {
        width: 600px;
        height: auto;
        align-self: center;
        border-radius: 12px;
      } /* í¬ê¸°/ë¹„ìœ¨ ì—†ìŒ â†’ CLS */
      .info {
        flex: 1;
      }
      .muted {
        color: var(--muted);
        margin-top: 4px;
      }
      /* grid */
      .actions {
        display: flex;
        flex-direction: column;
        row-gap: 8px;
      }
      .btn {
        padding: 10px 14px;
        border: 0;
        border-radius: 8px;
        background: var(--brand);
        color: #fff;
        cursor: pointer;
      }

      #btn-calendar {
        width: 100px;
      }
      /* ìš”ê¸ˆ ë‚´ì—­ */
      .receipt {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 16px;
        margin-top: 16px;
      }
      .line {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #f0f2f5;
      }
      .thumbs {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 12px;
        margin-top: 16px;
      }
      /* FIX: width, heighë¥¼ ì§€ì • */
      .thumbs img {
        display: block;
        width: 100%;
        height: auto;
        aspect-ratio: 2/1;
      } /* lazy/decoding ì—†ìŒ â†’ ëª¨ë‘ ì¦‰ì‹œ ë‹¤ìš´ë¡œë“œ */
      /* ëª¨ë‹¬ */
      .modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.4);
        display: none;
        align-items: center;
        justify-content: center;
      }
      .modal .box {
        background: #fff;
        border-radius: 12px;
        padding: 16px;
        max-width: 90%;
        width: 560px;
      }
      /* ì¸ì‡„: ë³„ë„ ì²˜ë¦¬ ì—†ìŒ â†’ ì»¬ëŸ¬/ë¶ˆí•„ìš” UI ê·¸ëŒ€ë¡œ ì¶œë ¥ */
      @media print {
        header,
        .actions,
        .thumbs,
        .modal,
        button {
          display: none !important;
        }
      }
    </style>

    <!-- ì´ˆê¸° ë¡œë”© ì°¨ë‹¨: ì˜ë¯¸ ì—†ëŠ” ë¸”ë¡œí‚¹ ì—°ì‚° -->
    <script>
      const t = performance.now();
      while (performance.now() - t < 400) {} // 400ms ë©ˆì¶¤ â†’ ì²« í‘œì‹œ ì§€ì—°
    </script>
  </head>
  <body>
    <header>ğŸ¨ ì˜ˆì•½ í™•ì¸ & ì˜ìˆ˜ì¦ (Base)</header>
    <main>
      <section class="hero">
        <!-- LCP í›„ë³´: í¬ê¸°/ë¹„ìœ¨/ìš°ì„ ìˆœìœ„ íŒíŠ¸ ì—†ìŒ -->
        <img
          src="https://picsum.photos/1200/600?random=11"
          alt="í˜¸í…” ì™¸ê´€"
          rel="preload"
          fetchpriority="high"
        />
        <div class="info">
          <h1>ë¦¬ë²„ì‚¬ì´ë“œ í˜¸í…”</h1>
          <p class="muted">
            ì²´í¬ì¸ 2025-09-03 Â· ì²´í¬ì•„ì›ƒ 2025-09-06 Â· 3ë°• Â· ë””ëŸ­ìŠ¤ í€¸ Â· ì˜ˆì•½ë²ˆí˜¸
            <code id="code">RSV-8421</code>
          </p>
          <div class="actions">
            <div>
              <button class="btn" id="btn-print">ì¸ì‡„ / PDF ì €ì¥</button>
              <button class="btn outline" id="btn-invoice">
                ì„¸ë¶€ ì˜ìˆ˜ì¦ ë³´ê¸°
              </button>
            </div>
            <div>
              <button class="btn outline" id="btn-copy">ì˜ˆì•½ë²ˆí˜¸ ë³µì‚¬</button>
              <button class="btn outline" id="btn-share">ê³µìœ </button>
              <button class="btn outline" id="btn-map">ì§€ë„ ë³´ê¸°</button>
            </div>
            <button class="btn outline" id="btn-calendar">ìº˜ë¦°ë” ì¶”ê°€</button>
          </div>
        </div>
      </section>

      <section class="receipt" id="receipt">
        <h3>ìš”ê¸ˆ ë‚´ì—­</h3>
        <div class="line">
          <span>ê°ì‹¤ ìš”ê¸ˆ(3ë°•)</span><strong>â‚©420,000</strong>
        </div>
        <div class="line"><span>ì„¸ê¸ˆ/ë´‰ì‚¬ë£Œ</span><strong>â‚©42,000</strong></div>
        <div class="line"><span>ë¦¬ì¡°íŠ¸ í”¼</span><strong>â‚©18,000</strong></div>
        <div class="line">
          <span><strong>í•©ê³„</strong></span
          ><strong>â‚©480,000</strong>
        </div>
        <div style="margin-top: 10px">
          <button class="btn outline" id="btn-toggle-items">
            ì„¸ë¶€ í•­ëª© í† ê¸€
          </button>
        </div>
        <div id="items" style="margin-top: 10px; display: none">
          <div class="line">
            <span>ë£¸ì„œë¹„ìŠ¤(1íšŒ)</span><strong>â‚©28,000</strong>
          </div>
          <div class="line"><span>ë¯¸ë‹ˆë°”</span><strong>â‚©9,000</strong></div>
        </div>
      </section>

      <section class="thumbs">
        <!-- ì¸ë„¤ì¼: ì „ë¶€ ì¦‰ì‹œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ + í¬ê¸° ë¯¸ì§€ì • -->
        <!-- FIX: loading:lazy ì²« í™”ë©´ ë°– ì´ë¯¸ì§€ëŠ” ì•ˆ ë¶ˆëŸ¬ì„œ ì´ˆê¸° ë¡œë”© ê°€ë³ê²Œ  -->
        <!-- FIX: decoding: async ì´ë¯¸ì§€ë¥¼ í™”ë©´ì— ê·¸ë¦¬ëŠ” ë©”ì¸ ìŠ¤ë ˆë“œì™€ ë¶„ë¦¬ë˜ì–´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë””ì½”ë”©-->
        <!-- FIX: srcsetë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ì‘í˜• ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆë¥¼ êµ¬í˜„   -->
        <img src="https://picsum.photos/800/400?random=21" alt="ê°ì‹¤1" />
        <img src="https://picsum.photos/800/400?random=22" alt="ê°ì‹¤2" />
        <img src="https://picsum.photos/800/400?random=23" alt="ê°ì‹¤3" />
        <img
          src="https://picsum.photos/800/400?random=24"
          alt="ê°ì‹¤4"
          loading="lazy"
          decoding="async"
          srcset="
            https://picsum.photos/800/400?random=24 480w
            https://picsum.photos/800/400?random=24 700w
            https://picsum.photos/800/400?random=24 1000w
          "
        />
      </section>
    </main>

    <!-- ëª¨ë‹¬: ì§€ë„/ê³µìœ  ê³µìš© -->
    <div class="modal" id="modal">
      <div class="box">
        <h3 id="modal-title" style="margin: 0 0 8px">ëª¨ë‹¬</h3>
        <div id="modal-body">ë‚´ìš©</div>
        <div style="text-align: right; margin-top: 12px">
          <button class="btn outline" id="modal-close">ë‹«ê¸°</button>
        </div>
      </div>
    </div>

    <!-- í´ë¦­ ì‹œ ë¬´ê±°ìš´ ë™ê¸° ì—°ì‚°(ì§€ì—° ì²´ê°) -->
    <script>
      const $ = (s) => document.querySelector(s);
      const modal = $("#modal"),
        mTitle = $("#modal-title"),
        mBody = $("#modal-body");

      $("#btn-print").addEventListener("click", () => {
        const t = performance.now();
        while (performance.now() - t < 350) {} // ë™ê¸° ì§€ì—°
        window.print();
      });

      $("#btn-invoice").addEventListener("click", () => {
        const t = performance.now();
        while (performance.now() - t < 300) {}
        alert("ì„¸ë¶€ ì˜ìˆ˜ì¦ì„ ì´ë©”ì¼ë¡œ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.");
      });

      $("#btn-copy").addEventListener("click", async () => {
        try {
          const code = $("#code").textContent.trim();
          await navigator.clipboard.writeText(code);
          alert("ì˜ˆì•½ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: " + code);
        } catch {
          alert("ë³µì‚¬ ì‹¤íŒ¨");
        }
      });

      $("#btn-share").addEventListener("click", async () => {
        const payload = {
          title: "ì˜ˆì•½ ê³µìœ ",
          text: "ë‚´ ì˜ˆì•½ ì •ë³´",
          url: location.href,
        };
        if (navigator.share) {
          try {
            await navigator.share(payload);
          } catch (e) {}
        } else {
          alert("ê³µìœ  API ë¯¸ì§€ì› ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.");
        }
      });

      $("#btn-map").addEventListener("click", () => {
        const t = performance.now();
        while (performance.now() - t < 250) {}
        mTitle.textContent = "í˜¸í…” ìœ„ì¹˜";
        mBody.innerHTML = `<iframe src="https://maps.google.com/maps?q=seoul&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="320" style="border:0"></iframe>`;
        modal.style.display = "flex";
      });

      $("#btn-calendar").addEventListener("click", () => {
        const ics = `BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:í˜¸í…” ì²´í¬ì¸
DTSTART:20250903
DTEND:20250906
DESCRIPTION:ë¦¬ë²„ì‚¬ì´ë“œ í˜¸í…” ë””ëŸ­ìŠ¤ í€¸
END:VEVENT
END:VCALENDAR`;
        const blob = new Blob([ics], { type: "text/calendar" });
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "reservation.ics";
        a.click();
        URL.revokeObjectURL(a.href);
      });

      $("#btn-toggle-items").addEventListener("click", () => {
        const el = $("#items");
        el.style.display = el.style.display === "none" ? "block" : "none";
      });

      $("#modal-close").addEventListener(
        "click",
        () => (modal.style.display = "none"),
      );
      modal.addEventListener("click", (e) => {
        if (e.target === modal) modal.style.display = "none";
      });
    </script>
  </body>
</html>
